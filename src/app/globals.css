@import "tailwindcss";
@import "tailwindcss-safe-area";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

html,
body {
  height: 100%;
  overflow: hidden;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

@keyframes logoIn {
  0% {
    opacity: 0;
    transform: translateY(48px) scale(0.97);
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
    transform: translateY(24px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOut {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(24px);
  }
}

@keyframes marrySparkles {
  0% {
    background-position:
      0% 0%,
      40% 20%,
      80% 60%;
  }
  100% {
    background-position:
      110% 80%,
      -40% 70%,
      20% -20%;
  }
}

.marry-sparkles {
  background-image:
    radial-gradient(circle, rgba(255, 255, 255, 0.55) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(255, 255, 255, 0.35) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(255, 255, 255, 0.25) 0 1px, transparent 2px);
  background-size:
    220px 220px,
    160px 160px,
    120px 120px;
  mix-blend-mode: screen;
  filter: blur(0.2px);
  animation: marrySparkles 16s linear infinite;
}

/* ── Point gain toast animation ── */

@keyframes pointGainToastFloat {
  0% {
    opacity: 0;
    transform: translateY(8px) scale(0.98);
    filter: blur(2px);
  }
  22% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
  78% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-6px) scale(1.01);
    filter: blur(1px);
  }
}

@keyframes pointGainToastFade {
  0% {
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.point-gain-toast {
  animation: pointGainToastFloat 1.25s ease-in-out forwards;
}

.point-gain-toast-reduced {
  animation: pointGainToastFade 0.7s ease-out forwards;
}

/* ── Girl emotion animations ── */

@keyframes girlBreathing {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes girlBounce {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  25% {
    transform: translateY(-8px) scale(1.02);
  }
  50% {
    transform: translateY(-3px) scale(1);
  }
}

@keyframes girlEmbarrassed {
  0%,
  100% {
    transform: rotate(0deg) translateY(0);
  }
  30% {
    transform: rotate(-3deg) translateY(-2px);
  }
  70% {
    transform: rotate(2deg) translateY(-2px);
  }
}

@keyframes girlAngry {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50% {
    transform: translateX(-4px);
  }
  20%,
  40%,
  60% {
    transform: translateX(4px);
  }
  70% {
    transform: translateX(0);
  }
}

@keyframes girlSad {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(4px) scale(0.98);
  }
}

@keyframes girlLovePulse {
  0%,
  100% {
    transform: scale(1);
    filter: drop-shadow(0 0 8px rgba(255, 105, 180, 0.3));
  }
  50% {
    transform: scale(1.03);
    filter: drop-shadow(0 0 16px rgba(255, 105, 180, 0.6));
  }
}

@keyframes heartFloat {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-60px) scale(0.5);
  }
}

/* Crossfade overlay: starts opaque, fades out to reveal new image underneath */
@keyframes crossfadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* ── Emotion classes ── */

.girl-emotion-default {
  animation: girlBreathing 3s ease-in-out infinite;
}

.girl-emotion-joy {
  animation: girlBounce 1.2s ease-in-out;
  filter: drop-shadow(0 0 12px rgba(255, 223, 100, 0.4));
}

.girl-emotion-embarrassed {
  animation: girlEmbarrassed 2s ease-in-out;
  filter: drop-shadow(0 0 8px rgba(255, 150, 200, 0.4));
}

.girl-emotion-angry {
  animation: girlAngry 0.6s ease-in-out;
  filter: drop-shadow(0 0 10px rgba(255, 80, 80, 0.5));
}

.girl-emotion-sad {
  animation: girlSad 2.5s ease-in-out infinite;
  filter: drop-shadow(0 0 8px rgba(100, 150, 255, 0.3));
}

/* ── Crossfade overlay ── */

.girl-crossfade-out {
  animation: crossfadeOut var(--crossfade-duration, 280ms) cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.heart-particle {
  position: absolute;
  pointer-events: none;
  animation: heartFloat 1.5s ease-out forwards;
}

/* ── Game Over animations ── */

@keyframes gameOverFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes redFlash {
  0% {
    opacity: 0;
  }
  15% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes gameOverTextPulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.85;
    transform: scale(1.03);
  }
}

.game-over-overlay {
  animation: gameOverFadeIn 600ms ease-out both;
}

.game-over-flash {
  background: radial-gradient(ellipse at center, rgba(239, 68, 68, 0.4) 0%, transparent 70%);
  animation: redFlash 1.5s ease-out both;
}

.game-over-text {
  text-shadow:
    0 0 20px rgba(239, 68, 68, 0.8),
    0 0 40px rgba(239, 68, 68, 0.4);
  animation: gameOverTextPulse 2s ease-in-out infinite;
}

/* ── Prologue animations ── */

@keyframes prologueFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes blinkCursor {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

@keyframes prologueTextFadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes prologueTextFadeOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-8px);
  }
}

.prologue-overlay {
  animation: prologueFadeIn 600ms ease-out both;
}

.prologue-cursor {
  animation: blinkCursor 530ms step-end infinite;
}

.prologue-waiting-text {
  animation: prologueFadeIn 400ms ease-out both;
}

.prologue-text-enter {
  animation: prologueTextFadeIn 300ms ease-out both;
}

.prologue-text-exit {
  animation: prologueTextFadeOut 500ms ease-in both;
}

/* ── Wallet Adapter: marry.fun theme overrides ── */

.solana-auth-panel .wallet-adapter-dropdown {
  width: 100%;
  display: flex;
  justify-content: center;
}

.solana-auth-panel .wallet-adapter-dropdown .wallet-adapter-button-trigger {
  flex: 1;
  justify-content: center;
}

.wallet-adapter-button,
.wallet-adapter-button-trigger {
  background: rgba(255, 255, 255, 0.1) !important;
  border: 2px solid rgba(251, 207, 232, 0.4) !important;
  color: rgba(255, 241, 242, 0.9) !important;
  font-family: var(--font-ephemeral), var(--font-geist-sans), sans-serif !important;
  transition: all 150ms ease-out !important;
}

.wallet-adapter-button:not([disabled]):hover,
.wallet-adapter-button-trigger:not([disabled]):hover {
  background: rgba(251, 207, 232, 0.2) !important;
  border-color: rgba(251, 207, 232, 0.6) !important;
  color: rgba(255, 241, 242, 1) !important;
}

.wallet-adapter-modal-wrapper {
  background: linear-gradient(135deg, rgba(30, 20, 35, 0.95) 0%, rgba(45, 25, 50, 0.92) 100%) !important;
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.5),
    0 0 60px rgba(255, 105, 180, 0.08) !important;
  padding: 1.5rem !important;
}

.wallet-adapter-modal-title {
  color: rgba(255, 241, 242, 0.95) !important;
  font-family: var(--font-ephemeral), var(--font-geist-sans), sans-serif !important;
  text-shadow: 0 0 20px rgba(255, 105, 180, 0.2);
}

.wallet-adapter-modal-list {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
}

.wallet-adapter-modal-list .wallet-adapter-button {
  background: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 12px !important;
  color: rgba(255, 241, 242, 0.9) !important;
  margin-bottom: 8px;
  width: auto !important;
  min-width: 140px;
}

.wallet-adapter-modal-list .wallet-adapter-button:hover {
  background: rgba(251, 207, 232, 0.15) !important;
  border-color: rgba(251, 207, 232, 0.35) !important;
}

.wallet-adapter-modal-button-close {
  background: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.wallet-adapter-modal-button-close:hover {
  background: rgba(251, 207, 232, 0.2) !important;
}

.wallet-adapter-modal-button-close svg {
  fill: rgba(255, 241, 242, 0.8) !important;
}

.wallet-adapter-modal-button-close:hover svg {
  fill: rgba(255, 241, 242, 1) !important;
}

.wallet-adapter-modal-middle-button {
  background: linear-gradient(135deg, rgba(251, 207, 232, 0.25) 0%, rgba(255, 182, 193, 0.2) 100%) !important;
  border: 2px solid rgba(251, 207, 232, 0.4) !important;
  color: rgba(255, 241, 242, 0.95) !important;
  font-family: var(--font-ephemeral), var(--font-geist-sans), sans-serif !important;
}

.wallet-adapter-modal-middle-button:hover {
  background: linear-gradient(135deg, rgba(251, 207, 232, 0.35) 0%, rgba(255, 182, 193, 0.3) 100%) !important;
  border-color: rgba(251, 207, 232, 0.6) !important;
}

.wallet-adapter-dropdown-list {
  background: linear-gradient(135deg, rgba(30, 20, 35, 0.98) 0%, rgba(45, 25, 50, 0.95) 100%) !important;
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  box-shadow:
    0 12px 32px rgba(0, 0, 0, 0.5),
    0 0 40px rgba(255, 105, 180, 0.06) !important;
}

.wallet-adapter-dropdown-list-item:hover {
  background: rgba(251, 207, 232, 0.15) !important;
}

/* ── Motion-reduce: disable all girl animations ── */

@media (prefers-reduced-motion: reduce) {
  .girl-emotion-default,
  .girl-emotion-joy,
  .girl-emotion-embarrassed,
  .girl-emotion-angry,
  .girl-emotion-sad,
  .girl-crossfade-out,
  .heart-particle,
  .game-over-overlay,
  .game-over-flash,
  .game-over-text,
  .prologue-overlay,
  .prologue-cursor,
  .prologue-waiting-text,
  .prologue-text-enter,
  .prologue-text-exit {
    animation: none !important;
  }
}
